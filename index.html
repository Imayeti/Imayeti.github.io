<!-- there is a bug on enemy death where i get stuck and cant move. also the merchant should be buyable by looking at him not 
by stepping on him or else fix view of him. Give hime random wears that can be bought -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="style.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>

  <title>Voidbreaker</title>
</head>

<body>
  <button id="modal-btn" class="store-btn">Store</button>

  <div id="modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <div id="modal-inner-content"></div>
    </div>
  </div>

  <!-- Skill Tree Modal -->
  <div id="skill-tree-modal" class="modal">
    <div class="modal-content skill-tree-content">
      <span class="close-skill-tree">&times;</span>
      <h2>Skill Tree</h2>
      <p>You have <span id="skill-points-display"></span> skill points.</p>
      <div id="skill-tree-container">
        <!-- The skill nodes will be dynamically rendered here -->
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <!-- Environment preview section -->
      <div id="environment-container" class="">
        <img 
          id="environment-image" 
          src="images/rooms/hallway-level-one-1.jpg" 
          alt="Dungeon Environment"
        >
      </div>

      <!-- Main Game Canvas -->
      <canvas 
        id="dungeon-canvas" 
        width="400" 
        height="400"
      ></canvas>
    </div>
   
    <!-- Combat Interface -->
    <div id="combat-section">
      <div class="stats-container">
        <div>
          <div class="flex">
            <img 
              src="images/items/credits.jpg" 
              alt="Player" 
              style="width: 60px;">

            <h2 style="margin-left: 10px" id="player-credits"></h2>

            <div class="container">
              <div class="arrow-button left" data-key="ArrowLeft">←</div>
              <div class="arrow-button up" data-key="ArrowUp">↑</div>
              <div class="arrow-button down" data-key="ArrowDown">↓</div>
              <div class="arrow-button right" data-key="ArrowRight">→</div>
            </div>

            <button id="player-attack-button" class="btn btn-blue">Attack</button>
            <button id="open-skills" class="ml-4">skills</button>

          </div>

          <h4>Inventory</h4>
          <div id="player-inventory" class="flex"></div>

          <!-- Player Health -->
          <div id="player-health-label"></div>
          <div class="health-bar-container">
            <div 
              id="player-health-bar" 
              class="health-fill">
            </div>
          </div>
          <div class="flex">
            <p>Attack: <span id="player-attack-value"></span></p>
            <p class="ml-5">Defense: <span id="player-defense-value"></span></p>
          </div>
        
        </div>
      </div>

      <div class="stats-container">
        <div>
          <h3 id="enemy-name"></h3>
          <!-- Enemy Health -->
          <div id="enemy-health-label"></div>
          <div class="health-bar-container">
            <div 
              id="enemy-health-bar" 
              class="health-fill">
            </div>
          </div>
          <!-- <p>Attack: <span id="enemy-attack-value"></span></p> -->
        </div>
      </div>

      <!-- Attack button and dice rolls -->
      <div>
        <div style="margin-top:10px;">
          <div class="dice-container">
            <img 
              id="player-dice" 
              src="images/dice.png" 
              alt="Player Dice"
            >
          </div>
          <span id="player-dice-roll-result"></span>
        </div>
        <div style="margin-top:10px;">
          <div class="dice-container">
            <img 
              id="enemy-dice" 
              src="images/dice.png" 
              alt="Enemy Dice"
            >
          </div>
          <span id="enemy-dice-roll-result"></span>
        </div>
        <div id="notification-message"></div>
      </div>
    </div>
  </div>
</div>
  

  <script type="module" src="main.js"></script>
</body>
</html>
